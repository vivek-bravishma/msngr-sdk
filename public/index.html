<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title>Messenger SDK</title>
    <script>
      !(function (e, n, t, r) {
        function s() {
          try {
            var e;
            if (
              (e =
                "string" == typeof this.response
                  ? JSON.parse(this.response)
                  : this.response).url
            ) {
              var t = n.getElementsByTagName("script")[0],
                r = n.createElement("script");
              (r.async = !0), (r.src = e.url), t.parentNode.insertBefore(r, t);
            }
          } catch (e) {}
        }
        var o,
          p,
          a,
          i = [],
          c = [];
        (e[t] = {
          init: function () {
            o = arguments;
            var e = {
              then: function (n) {
                return c.push({ type: "t", next: n }), e;
              },
              catch: function (n) {
                return c.push({ type: "c", next: n }), e;
              },
            };
            return e;
          },
          on: function () {
            i.push(arguments);
          },
          render: function () {
            p = arguments;
          },
          destroy: function () {
            a = arguments;
          },
        }),
          (e.__onWebMessengerHostReady__ = function (n) {
            if ((delete e.__onWebMessengerHostReady__, (e[t] = n), o))
              for (var r = n.init.apply(n, o), s = 0; s < c.length; s++) {
                var u = c[s];
                r = "t" === u.type ? r.then(u.next) : r.catch(u.next);
              }
            p && n.render.apply(n, p), a && n.destroy.apply(n, a);
            for (s = 0; s < i.length; s++) n.on.apply(n, i[s]);
          });
        var u = new XMLHttpRequest();
        u.addEventListener("load", s),
          u.open("GET", "http://localhost:3000/cdnPackage/loader.json", !0),
          (u.responseType = "json"),
          u.send();
      })(window, document, "AvMessagingSdk");
    </script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <script>
      AvMessagingSdk.init({
        integrationId: "63738a64ee04730103580ae2",

        // For authenticated mode
        jwt: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImFwcF82MzczODhiNmZlMGFlYjAxMDM4MTI3MDAifQ.eyJzY29wZSI6ImFwcFVzZXIiLCJ1c2VySWQiOiJhbGV4c21pdGhzZXJ2aWNlcyIsImlhdCI6MTY5Mzk5NTk5Mn0.6RzSDy_SsoDwui3rJljjeeS4FyW6SKF_8sF6oH1EZ70",
        userId: "alexsmithservices",
      })
        .then(function () {
          // Your code after init is complete
          // console.log("hi");
        })
        .catch((err) => console.log("err==> ", err));
    </script>
  </body>
</html>
